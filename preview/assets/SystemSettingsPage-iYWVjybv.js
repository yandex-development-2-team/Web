import{r as o,u as F,j as a,P as T,a as C,b as M,c as O,d as D,e as c,B as y}from"./index-CNrWrcXA.js";function N(e){return typeof e!="string"||!e?"":e.charAt(0).toLocaleUpperCase()+e.slice(1)}function L(e){const i=o.useRef({value:e,previous:e});return o.useMemo(()=>(i.current.value!==e&&(i.current.previous=i.current.value,i.current.value=e),i.current.previous),[e])}function H(e){const[i,t]=o.useState(void 0);return F(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const l=d[0];let n,s;if("borderBoxSize"in l){const u=l.borderBoxSize,p=Array.isArray(u)?u[0]:u;n=p.inlineSize,s=p.blockSize}else n=e.offsetWidth,s=e.offsetHeight;t({width:n,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else t(void 0)},[e]),i}var Q="Label",z=o.forwardRef((e,i)=>a.jsx(T.label,{...e,ref:i,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));z.displayName=Q;var U=z,k="Switch",[W]=D(k),[$,q]=W(k),I=o.forwardRef((e,i)=>{const{__scopeSwitch:t,name:r,checked:d,defaultChecked:l,required:n,disabled:s,value:u="on",onCheckedChange:p,form:m,...v}=e,[f,g]=o.useState(null),j=C(i,b=>g(b)),w=o.useRef(!1),S=f?m||!!f.closest("form"):!0,[x,R]=M({prop:d,defaultProp:l??!1,onChange:p,caller:k});return a.jsxs($,{scope:t,checked:x,disabled:s,children:[a.jsx(T.button,{type:"button",role:"switch","aria-checked":x,"aria-required":n,"data-state":_(x),"data-disabled":s?"":void 0,disabled:s,value:u,...v,ref:j,onClick:O(e.onClick,b=>{R(B=>!B),S&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),S&&a.jsx(E,{control:f,bubbles:!w.current,name:r,value:u,checked:x,required:n,disabled:s,form:m,style:{transform:"translateX(-100%)"}})]})});I.displayName=k;var P="SwitchThumb",A=o.forwardRef((e,i)=>{const{__scopeSwitch:t,...r}=e,d=q(P,t);return a.jsx(T.span,{"data-state":_(d.checked),"data-disabled":d.disabled?"":void 0,...r,ref:i})});A.displayName=P;var X="SwitchBubbleInput",E=o.forwardRef(({__scopeSwitch:e,control:i,checked:t,bubbles:r=!0,...d},l)=>{const n=o.useRef(null),s=C(n,l),u=L(t),p=H(i);return o.useEffect(()=>{const m=n.current;if(!m)return;const v=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==t&&g){const j=new Event("click",{bubbles:r});g.call(m,t),m.dispatchEvent(j)}},[u,t,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...d,tabIndex:-1,ref:s,style:{...d.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E.displayName=X;function _(e){return e?"checked":"unchecked"}var G=I,J=A;const K=[{id:"11",label:"Поле для приветствия",placeholder:"Место для текста"},{id:"22",label:"Текст для подтверждения записи",placeholder:"Место для текста"},{id:"33",label:"Напоминание №1 о мероприятии (за 1 неделю)",placeholder:"Место для текста"},{id:"44",label:"Напоминание №2 о мероприятии (за 24 часа)",placeholder:"Место для текста"},{id:"555",label:"Текст сообщения при отмене бронирования",placeholder:"Место для текста"},{id:"64",label:"Благодарность по завершению мероприятия",placeholder:"Место для текста"},{id:"77",label:"Текст системной ошибки",placeholder:"Место для текста"}],V=[{id:"applications",groupTitle:"Заявки",options:[{id:"1",checked:!0,name:"Просмотр таблицы заявок"},{id:"2",checked:!0,name:"Редактирование таблицы заявок"},{id:"3",checked:!0,name:"Увдаление таблицы заявок"}]},{id:"special_projects",groupTitle:"Спецпроекты",options:[{id:"1",checked:!0,name:"Просмотр спецпроектов"},{id:"2",checked:!0,name:"Редактирование спецпроектов"},{id:"3",checked:!0,name:"Удаление спецпроектов"}]},{id:"boxes",groupTitle:"Коробки",options:[{id:"1",checked:!0,name:"Создание коробки"},{id:"2",checked:!0,name:"Редактирование коробки"},{id:"3",checked:!0,name:"Удаление коробки"}]},{id:"analytics",groupTitle:"Аналитика",options:[{id:"1",checked:!0,name:"Просмотр"},{id:"2",checked:!0,name:"Скачивание"}]},{id:"presentations",groupTitle:"Презентации",options:[{id:"1",checked:!0,name:"Просмотр презинтаций"},{id:"2",checked:!0,name:"Редактирование презинтаций"},{id:"3",checked:!0,name:"Удаление презинтаций"}]},{id:"other",groupTitle:"Другое ",options:[{id:"1",checked:!0,name:"Афиша"},{id:"2",checked:!0,name:"Раздел о нас"},{id:"3",checked:!0,name:"FAQ"}]}],Y=[{id:"applications",groupTitle:"Заявки",options:[{id:"1",checked:!0,name:"Просмотр таблицы заявок"},{id:"2",checked:!0,name:"Редактирование таблицы заявок"},{id:"3",checked:!1,name:"Увдаление таблицы заявок"}]},{id:"special_projects",groupTitle:"Спецпроекты",options:[{id:"1",checked:!0,name:"Просмотр спецпроектов"},{id:"2",checked:!0,name:"Редактирование спецпроектов"},{id:"3",checked:!1,name:"Удаление спецпроектов"}]},{id:"boxes",groupTitle:"Коробки",options:[{id:"1",checked:!0,name:"Создание коробки"},{id:"2",checked:!0,name:"Редактирование коробки"},{id:"3",checked:!1,name:"Удаление коробки"}]},{id:"analytics",groupTitle:"Аналитика",options:[{id:"1",checked:!0,name:"Просмотр"},{id:"2",checked:!1,name:"Скачивание"}]},{id:"presentations",groupTitle:"Презентации",options:[{id:"1",checked:!0,name:"Просмотр презинтаций"},{id:"2",checked:!0,name:"Редактирование презинтаций"},{id:"3",checked:!1,name:"Удаление презинтаций"}]},{id:"other",groupTitle:"Другое ",options:[{id:"1",checked:!0,name:"Афиша"},{id:"2",checked:!0,name:"Раздел о нас"},{id:"3",checked:!0,name:"FAQ"}]}],Z=[{id:"applications",groupTitle:"Заявки",options:[{id:"1",checked:!0,name:"Просмотр таблицы заявок"},{id:"2",checked:!0,name:"Редактирование таблицы заявок"},{id:"3",checked:!1,name:"Увдаление таблицы заявок"}]},{id:"special_projects",groupTitle:"Спецпроекты",options:[{id:"1",checked:!0,name:"Просмотр спецпроектов"},{id:"2",checked:!0,name:"Редактирование спецпроектов"},{id:"3",checked:!1,name:"Удаление спецпроектов"}]},{id:"boxes",groupTitle:"Коробки",options:[{id:"1",checked:!0,name:"Создание коробки"},{id:"2",checked:!0,name:"Редактирование коробки"},{id:"3",checked:!1,name:"Удаление коробки"}]},{id:"analytics",groupTitle:"Аналитика",options:[{id:"1",checked:!1,name:"Просмотр"},{id:"2",checked:!1,name:"Скачивание"}]},{id:"presentations",groupTitle:"Презентации",options:[{id:"1",checked:!0,name:"Просмотр презинтаций"},{id:"2",checked:!0,name:"Редактирование презинтаций"},{id:"3",checked:!1,name:"Удаление презинтаций"}]},{id:"other",groupTitle:"Другое ",options:[{id:"1",checked:!0,name:"Афиша"},{id:"2",checked:!1,name:"Раздел о нас"},{id:"3",checked:!0,name:"FAQ"}]}],ee=[{id:"applications",groupTitle:"Заявки",options:[{id:"1",checked:!0,name:"Просмотр таблицы заявок"},{id:"2",checked:!1,name:"Редактирование таблицы заявок"},{id:"3",checked:!1,name:"Увдаление таблицы заявок"}]},{id:"special_projects",groupTitle:"Спецпроекты",options:[{id:"1",checked:!0,name:"Просмотр спецпроектов"},{id:"2",checked:!1,name:"Редактирование спецпроектов"},{id:"3",checked:!1,name:"Удаление спецпроектов"}]},{id:"boxes",groupTitle:"Коробки",options:[{id:"1",checked:!0,name:"Создание коробки"},{id:"2",checked:!1,name:"Редактирование коробки"},{id:"3",checked:!1,name:"Удаление коробки"}]},{id:"analytics",groupTitle:"Аналитика",options:[{id:"1",checked:!1,name:"Просмотр"},{id:"2",checked:!1,name:"Скачивание"}]},{id:"presentations",groupTitle:"Презентации",options:[{id:"1",checked:!0,name:"Просмотр презинтаций"},{id:"2",checked:!1,name:"Редактирование презинтаций"},{id:"3",checked:!1,name:"Удаление презинтаций"}]},{id:"other",groupTitle:"Другое ",options:[{id:"1",checked:!1,name:"Афиша"},{id:"2",checked:!1,name:"Раздел о нас"},{id:"3",checked:!1,name:"FAQ"}]}],h={access:"access",content:"content"},te=[{id:"access",label:"Настройка уровня доступа"},{id:"content",label:"Настройка текстов"}],ae=[{id:"admin",title:"администратор",subTitle:"высший уровень доступа",content:V},{id:"manager1",title:"менеджер 1 звена",subTitle:"полный уровень доступа",content:Y},{id:"manager2",title:"менеджер 2 звена",subTitle:"средний уровень доступа",content:Z},{id:"manager3",title:"менеджер 3 звена",subTitle:"низкий уровень доступа",content:ee}];function ie({tabs:e,activeTab:i,onTabChange:t}){return a.jsx("div",{className:c("flex items-center justify-between"),children:a.jsx("div",{className:c("tab-header","border-primary grid w-fit grid-cols-2 rounded-lg border","bg-card w-140.5"),children:e.map(r=>a.jsx("button",{onClick:()=>t(r.id),className:c("button-text hover:bg-accent-strong w-full cursor-pointer rounded-none px-8 py-3 transition-all duration-300",{"bg-primary":i===r.id}),children:r.label},r.id))})})}function re({className:e,...i}){return a.jsx(U,{"data-slot":"label",className:c("xxs-text text-ring",e),...i})}function ne({className:e,id:i,label:t,error:r,...d}){const l=o.useId(),n=i||l;return a.jsxs("div",{className:c("flex flex-col gap-1"),children:[t&&a.jsx(re,{htmlFor:n,children:t}),a.jsxs("div",{className:c("relative"),children:[a.jsx("textarea",{"data-slot":"textarea",id:n,className:c("bg-card flex field-sizing-content min-h-15 w-full rounded-lg p-3","border-border border","placeholder:text-border placeholder:text-[14px] placeholder:italic","focus-visible:border-ring focus-visible:ring-ring/50 focus:border-muted-foreground focus:placeholder:text-ring","aria-invalid:ring-error/20 aria-invalid:border-error","text-foreground transition-[color,box-shadow] outline-none disabled:cursor-not-allowed disabled:opacity-50",e),...d}),r&&a.jsx("div",{className:c("xxs-text text-error absolute -bottom-5 left-0 z-10"),children:r})]})]})}function ce({textFormData:e=[],className:i}){return a.jsx("form",{className:c("flex flex-col gap-4",i),children:e.map(t=>a.jsx(ne,{placeholder:t.placeholder,label:t.label},t.id))})}function se({className:e,size:i="default",...t}){return a.jsx(G,{"data-slot":"switch","data-size":i,className:c("relative","ring-accent-strong ring-1 ring-inset","peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-card data-[state=unchecked]:ring-border data-[state=unchecked]:ring-2","group/switch inline-flex shrink-0 items-center rounded-full","data-[size=default]:h-8 data-[size=default]:w-13","transition-all outline-none","disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(J,{"data-slot":"switch-thumb",className:c("absolute","bg-card rounded-full group-data-[size=default]/switch:size-6","pointer-events-none block ring-0 transition-transform","data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-2","data-[state=checked]:bg-card data-[state=checked]:size-6","data-[state=unchecked]:bg-border data-[state=unchecked]:size-4")})})}function de({className:e,id:i,label:t,name:r,checked:d,onToggle:l}){const n=o.useId(),s=i||n;return a.jsxs("div",{className:c("flex items-center gap-3",e),children:[a.jsx(se,{id:s,name:r,defaultChecked:d,onCheckedChange:l}),t&&a.jsx("label",{htmlFor:s,children:t})]})}function oe({permissionItems:e,className:i,title:t}){return a.jsxs("div",{className:c("flex flex-col gap-5",i),children:[a.jsx("h5",{children:t}),a.jsx("div",{className:c("flex flex-col gap-3 pl-10"),children:e.map(r=>a.jsx(de,{label:r.name,checked:r.checked},r.id))})]})}const le="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='none'%3e%3cpath%20stroke='%23000'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='m6%2011%2010%2010%2010-10'/%3e%3c/svg%3e";function ue({items:e,onOpenChange:i}){const[t,r]=o.useState(null),d=n=>{const s=t===n?null:n;r(s),i(!!s)},l=t?e.filter(n=>n.id===t):e;return a.jsx("div",{className:c("flex h-full flex-col",{"gap-2":t,"gap-5":!t}),children:l.map(n=>a.jsxs(o.Fragment,{children:[a.jsxs("div",{className:c("border-primary flex h-24.75 items-center justify-between rounded-lg border px-5.5 py-10","bg-card cursor-pointer"),onClick:()=>d(n.id),children:[a.jsxs("div",{children:[a.jsx("h3",{className:c("text-foreground"),children:N(n.title)}),a.jsx("h4",{className:c("text-muted-foreground"),children:N(n.subTitle)})]}),a.jsx("div",{className:c("mr-1.75 size-6",{"rotate-180":t===n.id,"rotate-0":t!==n.id}),children:a.jsx("img",{src:le,alt:"arrow-down"})})]}),t===n.id&&n.content&&a.jsx("div",{className:c("bg-card h-full rounded-lg","px-10 py-7.5","grid grid-cols-[auto_1fr]","overflow-y-auto","gap-x-25 gap-y-11.25"),children:n.content.map(s=>a.jsx(oe,{permissionItems:s.options,title:s.groupTitle},s.id))})]},n.id))})}const he=()=>{const[e,i]=o.useState(h.access),[t,r]=o.useState(!1),d=l=>{e===h.content&&r(!1),i(l)};return a.jsxs("div",{className:c("flex h-full flex-col gap-5"),children:[a.jsx("div",{className:c("bg-card rounded-lg p-5"),children:a.jsx("h2",{children:"Системные настройки"})}),a.jsxs("div",{className:c("relative flex flex-1 flex-col rounded-lg transition-all duration-300",{"bg-card gap-8 p-5":!t||e===h.content,"gap-5":t||e===h.content}),children:[a.jsxs("div",{className:c("flex items-center justify-between"),children:[a.jsx(ie,{tabs:te,onTabChange:d,activeTab:e}),(t||e===h.content)&&a.jsxs("div",{className:c("flex items-center gap-5"),children:[a.jsx(y,{variant:"default-secondary",children:"Отменить"}),a.jsx(y,{children:"Сохранить"})]})]}),e===h.access&&a.jsx(ue,{items:ae,onOpenChange:r}),e===h.content&&a.jsx(ce,{textFormData:K})]})]})},me=he;export{me as Component};
