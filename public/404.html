<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // Universal 404 handler for GitHub Pages SPA
      // Detect if we're in /web/ or /web/preview/
      var path = window.location.pathname;
      var redirect;
      
      if (path.startsWith('/web/preview/')) {
        // Redirect to preview index
        redirect = '/web/preview/';
      } else if (path.startsWith('/web/')) {
        // Redirect to main index
        redirect = '/web/';
      } else {
        redirect = '/';
      }
      
      // Store original path for client-side router
      sessionStorage.setItem('redirectPath', path);
      window.location.replace(redirect);
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
